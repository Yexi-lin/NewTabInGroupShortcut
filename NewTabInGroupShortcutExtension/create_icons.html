<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>创建扩展图标</title>
  <style>
    body {
      font-family: 'Microsoft YaHei', sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    h1 {
      color: #1a73e8;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
    }
    .icon-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin: 20px 0;
    }
    .icon-row {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    .icon-box {
      border: 1px solid #ddd;
      padding: 10px;
      border-radius: 4px;
      background-color: white;
      text-align: center;
    }
    .instructions {
      background-color: #f0f7ff;
      border: 1px solid #d0e3ff;
      border-radius: 4px;
      padding: 15px;
      margin: 20px 0;
      line-height: 1.5;
    }
    button {
      background-color: #1a73e8;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    button:hover {
      background-color: #0d62c9;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>创建扩展图标</h1>
    
    <div class="instructions">
      <p><strong>使用说明：</strong></p>
      <ol>
        <li>点击下方的"下载图标"按钮，分别保存三种尺寸的图标</li>
        <li>将下载的图标文件重命名为 icon16.png、icon48.png 和 icon128.png</li>
        <li>将这些图标文件放入扩展的 icons 文件夹中</li>
      </ol>
    </div>
    
    <div class="icon-container">
      <div class="icon-row">
        <div class="icon-box">
          <h3>16x16 图标</h3>
          <svg id="icon16" width="16" height="16" viewBox="0 0 16 16">
            <!-- 背景 -->
            <rect width="16" height="16" fill="#1a73e8" rx="3" ry="3"></rect>
            
            <!-- 标签组（两个重叠的标签） -->
            <rect x="3" y="4" width="8" height="5" fill="white" opacity="0.9" rx="1" ry="1"></rect>
            <line x1="3.5" y1="4.5" x2="10.5" y2="4.5" stroke="#39C5BB" stroke-width="1" stroke-linecap="round"></line>
            <rect x="5" y="7" width="8" height="5" fill="white" opacity="0.9" rx="1" ry="1"></rect>
            <line x1="5.5" y1="7.5" x2="12.5" y2="7.5" stroke="#39C5BB" stroke-width="1" stroke-linecap="round"></line>
            
            <!-- 加号（表示新建） -->
            <line x1="12.3" y1="12.8" x2="14.4" y2="12.8" stroke="#56df56" stroke-width="1.5" stroke-linecap="round"></line>
            <line x1="13.4" y1="11.8" x2="13.4" y2="13.9" stroke="#56df56" stroke-width="1.5" stroke-linecap="round"></line>
          </svg>
          <br>
          <button onclick="downloadIcon(16)">下载图标</button>
        </div>
        
        <div class="icon-box">
          <h3>48x48 图标</h3>
          <svg id="icon48" width="48" height="48" viewBox="0 0 48 48">
            <!-- 背景 -->
            <rect width="48" height="48" fill="#1a73e8" rx="8" ry="8"></rect>
            
            <!-- 标签组（两个重叠的标签） -->
            <rect x="9" y="12" width="24" height="15" fill="white" opacity="0.9" rx="3" ry="3"></rect>
            <line x1="11" y1="14" x2="31" y2="14" stroke="#39C5BB" stroke-width="3" stroke-linecap="round"></line>
            <rect x="15" y="21" width="24" height="15" fill="white" opacity="0.9" rx="3" ry="3"></rect>
            <line x1="17" y1="23" x2="37" y2="23" stroke="#39C5BB" stroke-width="3" stroke-linecap="round"></line>
            
            <!-- 加号（表示新建） -->
            <line x1="36.8" y1="38.4" x2="43.2" y2="38.4" stroke="#56df56" stroke-width="4" stroke-linecap="round"></line>
            <line x1="40" y1="35.2" x2="40" y2="41.6" stroke="#56df56" stroke-width="4" stroke-linecap="round"></line>
          </svg>
          <br>
          <button onclick="downloadIcon(48)">下载图标</button>
        </div>
        
        <div class="icon-box">
          <h3>128x128 图标</h3>
          <svg id="icon128" width="128" height="128" viewBox="0 0 128 128">
            <!-- 背景 -->
            <rect width="128" height="128" fill="#1a73e8" rx="20" ry="20"></rect>
            
            <!-- 标签组（两个重叠的标签） -->
            <rect x="24" y="32" width="64" height="40" fill="white" opacity="0.9" rx="8" ry="8"></rect>
            <line x1="29" y1="36" x2="83" y2="36" stroke="#39C5BB" stroke-width="10" stroke-linecap="round"></line>
            <rect x="40" y="56" width="64" height="40" fill="white" opacity="0.9" rx="8" ry="8"></rect>
            <line x1="45" y1="60" x2="99" y2="60" stroke="#39C5BB" stroke-width="10" stroke-linecap="round"></line>
            
            <!-- 加号（表示新建） -->
            <line x1="92" y1="96" x2="108" y2="96" stroke="#56df56" stroke-width="10" stroke-linecap="round"></line>
            <line x1="100" y1="88" x2="100" y2="104" stroke="#56df56" stroke-width="10" stroke-linecap="round"></line>
          </svg>
          <br>
          <button onclick="downloadIcon(128)">下载图标</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    function downloadIcon(size) {
      const svg = document.getElementById(`icon${size}`);
      const serializer = new XMLSerializer();
      const svgStr = serializer.serializeToString(svg);
      const canvas = document.createElement('canvas');
      canvas.width = size;
      canvas.height = size;
      const ctx = canvas.getContext('2d');
      
      const img = new Image();
      img.onload = function() {
        ctx.drawImage(img, 0, 0, size, size);
        const a = document.createElement('a');
        a.href = canvas.toDataURL('image/png');
        a.download = `icon${size}.png`;
        a.click();
      };
      
      img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgStr)));
    }
  </script>
</body>
</html>
